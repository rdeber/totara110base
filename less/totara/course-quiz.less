//
// This file is part of Totara LMS
//
// Copyright (C) 2016 onwards Totara Learning Solutions LTD
//
// This program is free software; you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation; either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <ht    tp://www.gnu.org/licenses/>.
//
// @copyright 2016 onwards Totara Learning Solutions LTD
// @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
// @author    Joby Harding <joby.harding@totaralearning.com>
// @package   theme_totara110base

.path-mod-quiz {
    .qnbutton {
        box-shadow: none;
        color: #333;
        background: #fff;
        width: 18%;
        height: auto;
        display: inline-block;
        float: none;
        margin: 0 2% 2% 0;
        padding: .5em;
        border: 1px solid #ddd !important;
        border-radius: 3px;

        &:hover,
        &:focus {
            color: @text-color;
            text-decoration: none !important;
            border-color: #888 !important;
        }

        &:active,
        &:hover:active {
            color: @text-color;
        }

        &.thispage .thispageholder {
            border: none;
        }
    }
    //allow quiz color coding to work on review page
    &:not(#page-mod-quiz-review) {
        .qnbutton {
            &:hover,
            &:focus,
            &:active,
            &:hover:active {
                background: #fff;
            }
        }
    }
    .que .formulation,
    .que .outcome,
    .que .comment {
        padding: 1em;
        margin-bottom: 1em;
        color: @text-color;
        background-color: #fff;
        border: 1px solid #eaeaea;
    }
    // Fix for bootstrap conflict with core extending alert classes.
    // Styles here should match theme standard link.
    .que .formulation a:not(.close):not(.btn),
    .que .outcome a:not(.close):not(.btn),
    .que .comment a:not(.close):not(.btn),
    .que .formulation .alert-link,
    .que .outcome .alert-link,
    .que .comment .alert-link {
        color: @link-color;
        font-weight: normal;

        &:hover,
        &:focus {
            color: @link-hover-color;
        }
    }
    table.quizreviewsummary {
        margin-top: 0;
    }
}

#page-mod-quiz-edit {
    .activity {
        overflow: hidden;
    }
    //hide duplicate gear icon
    .activityinstance a > .flex-icon {
        display: none;
    }
    //hide duplicate gear icon in question type dialog box
    .choosercontainer .modicon > .flex-icon {
        display: none;
    }
    .activityinstance span.instancename {
        margin-top: .15em;
    }
    .activityicon {
        background: transparent;
        border-radius: 0;
        box-shadow: none;
    }
}

.que {
    margin: 0 auto 2em auto;

    .info {
        .totara110base-box;
        float: none;
        width: auto;
        overflow: hidden;
        border: none;
        border-left: 3px solid #bbb;
        margin: 0 0 .6em 0;
        display: flex;
        justify-content: flex-start;
        align-items: center;

        > div {
            font-size: .9em;
            margin: 0 1em 0;
        }
    }
    h3.no {
        line-height: inherit;
        float: left;
        border: none;
        background-color: #f5f5f5;
        border: 1px solid #eaeaea;
        margin: 0 .3em;
        font-size: 1em;
        font-weight: bold;
        padding: .3em .75em;
        border-radius: 3px;
    }

    .content {
        margin: 0;
        border: 1px solid #eaeaea;
        border-radius: 3px;
        padding: 1em;
        background: #fff;
    }

    span.qno {
        font-size: 1em;
    }

    .specificfeedback,
    .generalfeedback,
    .rightanswer,
    .im-feedback,
    .feedback,
    .numpartscorrect,
    p {
       margin: 0 0 .5em;
   }
}

.path-mod-quiz {
    // Quiz feedback styles.
    .feedback > * {
        margin-left: 2.2em;
    }
    .que.correct .feedback:before,
    .que.incorrect .feedback:before,
    .que.notanswered .feedback:before,
    .que.partiallycorrect .feedback:before {
        font-family: FontAwesome;
        font-weight: normal;
        font-size: 2em;
        line-height: 1;
        margin-right: .25em;
        float: left;
        position: relative;
        top: -.15em;
    }
    .que.correct .feedback:before {
        color: #3c763d;
        content: "\f058";
    }
    .que.incorrect .feedback:before {
        color: #a94442;
        content: "\f00d";
    }
    .que.notanswered .feedback:before {
        color: #31708f;
        content: "\f059";
    }
    .que.partiallycorrect .feedback:before {
        color: #31708f;
        content: "\f295";
    }
}

#page-mod-quiz-attempt .submitbtns,
#page-mod-quiz-review .submitbtns {
    text-align: center;
    padding-top: 0;

    .mod_quiz-next-nav {
        float: none;
    }
}