//
// This file is part of Totara LMS
//
// Copyright (C) 2016 onwards Totara Learning Solutions LTD
//
// This program is free software; you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation; either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <ht    tp://www.gnu.org/licenses/>.
//
// @copyright 2016 onwards Totara Learning Solutions LTD
// @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
// @author    Joby Harding <joby.harding@totaralearning.com>
// @package   theme_totara110base


/* reset plugin default section style */
.course-content ul.gtopics-0 #section-0 {
    .totara110base-box;
    margin-bottom: 1em;
}

/* override cursor icons from grid plugin */
body.totara110base-settings-gridenhanced .gridcursor div#gridshadebox_overlay,
body.totara110base-settings-gridenhanced .gridcursor .gridshadebox_arrow,
body.totara110base-settings-gridenhanced .gridcursor #gridshadebox_close,
body.totara110base-settings-gridenhanced .gridcursor .gridshadebox_previous_area.ltr,
body.totara110base-settings-gridenhanced .gridcursor .gridshadebox_next_area.rtl,
body.totara110base-settings-gridenhanced .gridcursor .gridshadebox_next_area.ltr,
body.totara110base-settings-gridenhanced .gridcursor .gridshadebox_previous_area.rtl,
body.totara110base-settings-gridenhanced .course-content .gridicon_link,
body.totara110base-settings-gridenhanced .course-content ul.gridicons li:hover,
body.totara110base-settings-gridenhanced .course-content ul.gridicons li:focus,
body.totara110base-settings-gridenhanced .gridshadebox_left_area,
body.totara110base-settings-gridenhanced .gridshadebox_right_area,
body.totara110base-settings-gridenhanced div#gridshadebox_overlay,
body.totara110base-settings-gridenhanced #gridshadebox_close {
    cursor: pointer !important;
}

/* switch box model to border-box for all elements inside grid */
body.totara110base-settings-gridenhanced .course-content ul.gridicons * {
    box-sizing: border-box;
}

/* remove default grid padding on li and change display */
body.totara110base-settings-gridenhanced .course-content #gridiconcontainer ul.gridicons li {
    background: #fff;
    box-shadow: @totara110base-box-shadow-1;
    display: inline-block;
    padding: 0;
    cursor: pointer;
    margin: 0 1.5em 1.5em 0;
}

/* remove default grid plugin bg color */
body.totara110base-settings-gridenhanced .course-content ul.gridicons li.currentselected {
    background-color: #fff;
    filter: none;
    opacity: 1;
}

/* remove default grid element styles */
body.totara110base-settings-gridenhanced .course-content ul.gridicons li .image_holder,
body.totara110base-settings-gridenhanced .course-content ul.gridicons li:hover .image_holder,
body.totara110base-settings-gridenhanced .course-content ul.gridicons li:focus .image_holder {
    border: none;
    background: transparent;
    border-radius: 0;
    box-shadow: none;
}

/* style grid images */
body.totara110base-settings-gridenhanced .course-content ul.gridicons li .image_holder {
    width: auto;
    position: relative;
    overflow: hidden;

    &:before {
        content: "[[language:enhancedgridhovertext]]";
        color: #fff;
        text-align: center;
        font-size: 1em;
        font-weight: 800;
        text-transform: uppercase;
        display: block;
        height: 100%;
        width: 100%;
        position: absolute;
        top: 100%;
        z-index: 1;
        transition: all .3s cubic-bezier(0.7, 0, 0.3, 1);
        transition-delay: initial;
    }
    &:after {
        content: "\f055";
        font-family: FontAwesome;
        font-weight: normal;
        font-size: 5em;
        color: rgba(255,255,255,0.45);
        text-align: center;
        display: block;
        padding-top: 0;
        background: rgba(50,50,50,.6);
        height: 100%;
        width: 100%;
        position: absolute;
        top: 100%;
        transition: all .3s cubic-bezier(0.7, 0, 0.3, 1);
    }
    img {
        width: 100%;
        height: auto;
        transform: scale(1);
        transition: all .5s cubic-bezier(0.7, 0, 0.3, 1);
    }
}

/* style grid images hover/focus effects */
body.totara110base-settings-gridenhanced .course-content ul.gridicons .gridicon_link {

    &:hover,
    &:focus {
        text-decoration: none;

        .image_holder:before {
            top: 66%;
            transition: all .3s cubic-bezier(0.7, 0, 0.3, 1);
            transition-delay: .1s;
        }
        .image_holder:after {
            top: 0;
        }
        .image_holder img {
            transform: scale(1.1);
            transition: all 5s cubic-bezier(0.7, 0, 0.3, 1);
            transition-delay: .2s;
        }
    }
}

/* style grid tile headers */
body.totara110base-settings-gridenhanced .course-content ul.gridicons li .icon_content {
    background: @brand-primary;
    font-family: @font-family-sans-serif-2;
    font-weight: bold;
    text-transform: uppercase;
    color: #fff;
    padding: .3em .5em;
    height: auto;
    font-size: 1em;
    white-space: normal;
    line-height: 1.1;
    display: flex;
    justify-content: center;
    flex-direction: column;
}

/* remove filter/opacity settings from current selected grid item. */
body.totara110base-settings-gridenhanced .course-content ul.gridicons li.currentselected {
    filter: none;
    opacity: 1;
}

/* switch box model to border-box for all elements inside grid */
body.totara110base-settings-gridenhanced .course-content ul.gridicons * {
    box-sizing: border-box;
}

/* remove new activity ribbon from grid elements */
body.totara110base-settings-gridenhanced .course-content ul.gridicons img.new_activity {
    display: none;
}

/* fix z-index conflict with fixed top nav bar */
body.totara110base-settings-gridenhanced div#gridshadebox_overlay {
    z-index: 9999;
}

/* fix z-index conflict with fixed top nav bar */
body.totara110base-settings-gridenhanced #gridshadebox_content {
    z-index: 9999;
}

/* grid popup box styles */
body.totara110base-settings-gridenhanced #gridshadebox_content {
    border: none;
    padding: 2em;
    box-sizing: border-box;
    .totara110base-box;
    box-shadow: @totara110base-box-shadow-3;
}
